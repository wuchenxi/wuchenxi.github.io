 <!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src=https://cdnjs.cloudflare.com/ajax/libs/mathjs/14.8.1/math.min.js></script>
</head>
<h1>Normal Approximation of Binomial Distribution</h1>
<body>
<p>N: <input type="text" id="n" value="10"> p: <input type="text" id="p" value="0.5"></p>
<p><button type="button" onclick="plotCDF();">Plot CDF</button></p>
<canvas id="myCanvas" width="500" height="500"
style="border:1px solid #000000;">
</canvas>
<script>
  function plotCDF(){
      var n=parseInt(document.getElementById("n").value);
      var p=parseFloat(document.getElementById("p").value);
      var cvs=document.getElementById("myCanvas");
      var ctx=cvs.getContext("2d");
	  ctx.clearRect(0, 0, cvs.width, cvs.height);
	  ctx.beginPath();
      ctx.strokeStyle="#0000FF";
      function line(a, b, c, d){
         ctx.moveTo(a, b);
         ctx.lineTo(c, d);
         ctx.stroke();
      }
      line(0, 500, 50, 500);
      var x=50;
      var y=500;
      for(let i=0;i<n;i++){
        var xn=x+400/n;
        var cp=math.combinations(n, i)*Math.pow(p, i)*Math.pow(1-p, n-i);
        var yn=y-500*cp;
        line(x, y, x, yn);
        line(x, yn, xn, yn);
        x=xn;
        y=yn;
      }
      line(450, y, 450, 0);
      line(450, 0, 500, 0);
      ctx.strokeStyle="#FF0000";
      ctx.beginPath();
      var ny=[];
      for(let i=0;i<=500;i+=5){
         var k=(i-50)*n/400;
         var x=(k-n*p)/Math.pow(n*p*(1-p), 0.5);
         ny.push([i, 500*(0.5-0.5*math.erf(x/Math.pow(2, 0.5)))]);
      }
      for(let i=0;i<100;i++){
        line(ny[i][0], ny[i][1], ny[i+1][0], ny[i+1][1]);
      }
  }


</script>

</body>
</html>
